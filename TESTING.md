# üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Telegram Mini App

## üåê Preview –≤ –±—Ä–∞—É–∑–µ—Ä–µ

**URL:** https://vehicle-parts-tool.preview.emergentagent.com

### –†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã:
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –≤ –æ–±—ã—á–Ω–æ–º –±—Ä–∞—É–∑–µ—Ä–µ
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (ID: 123456789)
- ‚úÖ –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–æ—Å—Ç—É–ø–Ω—ã
- ‚úÖ `alert()` –≤–º–µ—Å—Ç–æ Telegram WebApp –º–µ—Ç–æ–¥–æ–≤

### –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ:

**VIN –Ω–æ–º–µ—Ä–∞ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**
```
XW8BJ21Z6AK253512  - SKODA Octavia 2010
```

**–ê—Ä—Ç–∏–∫—É–ª—ã –∑–∞–ø—á–∞—Å—Ç–µ–π:**
```
1K0505435Q - –®–∞—Ä–æ–≤–∞—è –æ–ø–æ—Ä–∞
8E0407151A - –†—ã—á–∞–≥ –ø–æ–¥–≤–µ—Å–∫–∏
357407271  - –¢–æ—Ä–º–æ–∑–Ω–æ–π –¥–∏—Å–∫
```

### –®–∞–≥–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤ Preview:

1. **–ü–æ–∏—Å–∫ –ø–æ –∞—Ä—Ç–∏–∫—É–ª—É:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ –≥–ª–∞–≤–Ω—É—é ‚Üí "–ü–æ–∏—Å–∫ –ø–æ –∞—Ä—Ç–∏–∫—É–ª—É"
   - –í–≤–µ–¥–∏—Ç–µ: `1K0505435Q`
   - –ù–∞–∂–º–∏—Ç–µ "–ü–æ–∏—Å–∫"
   - –†–µ–∑—É–ª—å—Ç–∞—Ç: —Å–ø–∏—Å–æ–∫ –∑–∞–ø—á–∞—Å—Ç–µ–π —Å —Ü–µ–Ω–∞–º–∏

2. **–ü–æ–∏—Å–∫ –ø–æ VIN:**
   - –ì–ª–∞–≤–Ω–∞—è ‚Üí "–ü–æ–∏—Å–∫ –ø–æ VIN"
   - –í–≤–µ–¥–∏—Ç–µ: `XW8BJ21Z6AK253512`
   - –ù–∞–∂–º–∏—Ç–µ "–ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å VIN"
   - –†–µ–∑—É–ª—å—Ç–∞—Ç: –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∞–≤—Ç–æ SKODA Octavia

3. **AI-–ø–æ–∏—Å–∫ –∑–∞–ø—á–∞—Å—Ç–µ–π:**
   - –ü–æ—Å–ª–µ –≤–≤–æ–¥–∞ VIN
   - –í –ø–æ–ª–µ "–ß—Ç–æ –≤—ã –∏—â–µ—Ç–µ?" –≤–≤–µ–¥–∏—Ç–µ: `—à–∞—Ä–æ–≤–∞—è –æ–ø–æ—Ä–∞`
   - –ù–∞–∂–º–∏—Ç–µ "–ù–∞–π—Ç–∏ –∑–∞–ø—á–∞—Å—Ç—å"
   - –†–µ–∑—É–ª—å—Ç–∞—Ç: AI –Ω–∞–π–¥–µ—Ç –∞—Ä—Ç–∏–∫—É–ª—ã –≤ –∫–∞—Ç–∞–ª–æ–≥–µ

4. **–ö–æ—Ä–∑–∏–Ω–∞:**
   - –î–æ–±–∞–≤—å—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–æ–≤–∞—Ä–æ–≤
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –∫–æ—Ä–∑–∏–Ω—É (–∏–∫–æ–Ω–∫–∞ –≤–Ω–∏–∑—É)
   - –ò–∑–º–µ–Ω–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ
   - –£–¥–∞–ª–∏—Ç–µ —Ç–æ–≤–∞—Ä

5. **–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞:**
   - –í –∫–æ—Ä–∑–∏–Ω–µ –Ω–∞–∂–º–∏—Ç–µ "–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑"
   - –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ:
     - –ò–º—è: Test User
     - –¢–µ–ª–µ—Ñ–æ–Ω: +79001234567
   - –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –∑–∞–∫–∞–∑
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ "–ú–æ–∏ –∑–∞–∫–∞–∑—ã"

---

## üì± –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Telegram

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–æ—Ç–∞:

1. **–û—Ç–∫—Ä–æ–π—Ç–µ –±–æ—Ç–∞:** [@YourBot](https://t.me/YOUR_BOT)
2. **–ö–æ–º–∞–Ω–¥—ã:**
   ```
   /start - –ó–∞–ø—É—Å–∫ –∏ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
   /shop  - –û—Ç–∫—Ä—ã—Ç—å –º–∞–≥–∞–∑–∏–Ω
   /help  - –°–ø—Ä–∞–≤–∫–∞
   ```

3. **–ó–∞–ø—É—Å–∫ Mini App:**
   - –ù–∞–∂–º–∏—Ç–µ /start
   - –ö–ª–∏–∫–Ω–∏—Ç–µ –∫–Ω–æ–ø–∫—É "üõí –û—Ç–∫—Ä—ã—Ç—å –º–∞–≥–∞–∑–∏–Ω"
   - Mini App –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ Telegram

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Mini App –≤ BotFather:

```
/mybots
[–í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞]
Bot Settings ‚Üí Menu Button

–ù–∞—Å—Ç—Ä–æ–π–∫–∏:
- Text: üõí –ú–∞–≥–∞–∑–∏–Ω
- URL: https://vehicle-parts-tool.preview.emergentagent.com
```

### –§—É–Ω–∫—Ü–∏–∏ –≤ Telegram:

1. **Telegram ID:** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è
2. **BackButton:** –∫–Ω–æ–ø–∫–∞ "–ù–∞–∑–∞–¥" —Ä–∞–±–æ—Ç–∞–µ—Ç
3. **Alerts:** –∫—Ä–∞—Å–∏–≤—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è Telegram
4. **Expand:** –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω

---

## üîç –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Backend API

### Health Check:
```bash
curl https://vehicle-parts-tool.preview.emergentagent.com/api/health
```

### –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
```bash
curl -X POST https://vehicle-parts-tool.preview.emergentagent.com/api/users \
  -H "Content-Type: application/json" \
  -d '{
    "telegram_id": 123456789,
    "username": "testuser",
    "name": "Test User"
  }'
```

### –ü–æ–∏—Å–∫ –ø–æ –∞—Ä—Ç–∏–∫—É–ª—É:
```bash
curl -X POST https://vehicle-parts-tool.preview.emergentagent.com/api/search/article \
  -H "Content-Type: application/json" \
  -d '{
    "article": "1K0505435Q",
    "telegram_id": 123456789
  }'
```

### –ê–Ω–∞–ª–∏–∑ VIN:
```bash
curl -X POST https://vehicle-parts-tool.preview.emergentagent.com/api/search/vin \
  -H "Content-Type: application/json" \
  -d '{
    "vin": "XW8BJ21Z6AK253512",
    "telegram_id": 123456789
  }'
```

### AI-–ø–æ–∏—Å–∫:
```bash
curl -X POST https://vehicle-parts-tool.preview.emergentagent.com/api/search/ai \
  -H "Content-Type: application/json" \
  -d '{
    "vin": "XW8BJ21Z6AK253512",
    "query": "—à–∞—Ä–æ–≤–∞—è –æ–ø–æ—Ä–∞",
    "telegram_id": 123456789
  }'
```

### –ö–æ—Ä–∑–∏–Ω–∞:
```bash
# –ü–æ–ª—É—á–∏—Ç—å –∫–æ—Ä–∑–∏–Ω—É
curl https://vehicle-parts-tool.preview.emergentagent.com/api/cart/123456789

# –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä
curl -X POST https://vehicle-parts-tool.preview.emergentagent.com/api/cart/add \
  -H "Content-Type: application/json" \
  -d '{
    "telegram_id": 123456789,
    "item": {
      "article": "1K0505435Q",
      "name": "–®–∞—Ä–æ–≤–∞—è –æ–ø–æ—Ä–∞",
      "brand": "VAG",
      "price": 1500,
      "quantity": 1,
      "delivery_days": 2,
      "supplier": "ROSSKO"
    }
  }'
```

### –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞:
```bash
curl -X POST https://vehicle-parts-tool.preview.emergentagent.com/api/orders \
  -H "Content-Type: application/json" \
  -d '{
    "telegram_id": 123456789,
    "user_info": {
      "name": "Test User",
      "phone": "+79001234567",
      "address": "–ú–æ—Å–∫–≤–∞, —É–ª. –õ–µ–Ω–∏–Ω–∞, –¥. 1"
    }
  }'
```

---

## üîî –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∞–¥–º–∏–Ω—É:

**1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ TELEGRAM_ADMIN_ID –Ω–∞—Å—Ç—Ä–æ–µ–Ω:**
```bash
grep TELEGRAM_ADMIN_ID /app/backend/.env
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: TELEGRAM_ADMIN_ID=508352361
```

**2. –°–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π –∑–∞–∫–∞–∑ (–Ω—É–∂–Ω–∞ –∫–æ—Ä–∑–∏–Ω–∞ —Å —Ç–æ–≤–∞—Ä–∞–º–∏):**

```bash
# –°–Ω–∞—á–∞–ª–∞ –¥–æ–±–∞–≤—å—Ç–µ —Ç–æ–≤–∞—Ä –≤ –∫–æ—Ä–∑–∏–Ω—É
curl -X POST https://vehicle-parts-tool.preview.emergentagent.com/api/cart/add \
  -H "Content-Type: application/json" \
  -d '{
    "telegram_id": 123456789,
    "item": {
      "article": "TEST123",
      "name": "–¢–µ—Å—Ç–æ–≤–∞—è –∑–∞–ø—á–∞—Å—Ç—å",
      "brand": "TEST",
      "price": 1000,
      "quantity": 1,
      "delivery_days": 2,
      "supplier": "TEST"
    }
  }'

# –¢–µ–ø–µ—Ä—å —Å–æ–∑–¥–∞–π—Ç–µ –∑–∞–∫–∞–∑
curl -X POST https://vehicle-parts-tool.preview.emergentagent.com/api/orders \
  -H "Content-Type: application/json" \
  -d '{
    "telegram_id": 123456789,
    "user_info": {
      "name": "Test User",
      "phone": "+79001234567",
      "address": "–ú–æ—Å–∫–≤–∞, –¢–µ—Å—Ç–æ–≤–∞—è —É–ª., –¥. 1"
    }
  }'
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** 
- –ê–¥–º–∏–Ω (ID: 508352361) –ø–æ–ª—É—á–∏—Ç –∫—Ä–∞—Å–∏–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ Telegram
- –°—Ç–∞—Ç—É—Å 200 OK
- –ó–∞–∫–∞–∑ —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ –ë–î

---

## üêõ –û—Ç–ª–∞–¥–∫–∞

### –õ–æ–≥–∏ Backend:
```bash
# –í—ã–≤–æ–¥ –ª–æ–≥–æ–≤
tail -f /var/log/supervisor/backend.out.log

# –û—à–∏–±–∫–∏
tail -f /var/log/supervisor/backend.err.log
```

### –õ–æ–≥–∏ Frontend:
```bash
# –ö–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞
# –û—Ç–∫—Ä–æ–π—Ç–µ DevTools (F12) ‚Üí Console
```

### –õ–æ–≥–∏ Telegram Bot:
```bash
tail -f /var/log/supervisor/telegram_bot.out.log
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ MongoDB:
```bash
mongosh
> use market_db
> db.users.find()
> db.orders.find()
> db.carts.find()
```

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### Preview Mode:
- [ ] –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
- [ ] –ü–æ–∏—Å–∫ –ø–æ –∞—Ä—Ç–∏–∫—É–ª—É —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] VIN –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∞–≤—Ç–æ
- [ ] AI-–ø–æ–∏—Å–∫ –Ω–∞—Ö–æ–¥–∏—Ç –∑–∞–ø—á–∞—Å—Ç–∏
- [ ] –¢–æ–≤–∞—Ä—ã –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤ –∫–æ—Ä–∑–∏–Ω—É
- [ ] –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–∑–º–µ–Ω—è–µ—Ç—Å—è
- [ ] –ó–∞–∫–∞–∑ —Å–æ–∑–¥–∞–µ—Ç—Å—è
- [ ] –ò—Å—Ç–æ—Ä–∏—è –∑–∞–∫–∞–∑–æ–≤ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è

### Telegram Mode:
- [ ] –ë–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –∫–æ–º–∞–Ω–¥—ã
- [ ] Mini App –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø–æ –∫–Ω–æ–ø–∫–µ
- [ ] Telegram ID –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- [ ] BackButton —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∫—Ä–∞—Å–∏–≤—ã–µ

### Backend API:
- [ ] –í—Å–µ endpoints –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç 200
- [ ] VIN –ø–∞—Ä—Å–∏—Ç—Å—è —Å Rossko
- [ ] AI –Ω–∞—Ö–æ–¥–∏—Ç –∞—Ä—Ç–∏–∫—É–ª—ã
- [ ] Rossko API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ü–µ–Ω—ã
- [ ] –ö–æ—Ä–∑–∏–Ω–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è
- [ ] –ó–∞–∫–∞–∑—ã —Å–æ–∑–¥–∞—é—Ç—Å—è

### –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:
- [ ] –ê–¥–º–∏–Ω –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ Telegram
- [ ] –§–æ—Ä–º–∞—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π
- [ ] –í—Å–µ –¥–∞–Ω–Ω—ã–µ –∑–∞–∫–∞–∑–∞ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è

---

## üìä –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –ü–∞—Ä—Å–∏–Ω–≥ VIN (SKODA Octavia):
```json
{
  "make": "SKODA",
  "model": "Octavia",
  "year": "2010",
  "engine": "CAXA",
  "engine_details": "1400CC / 122hp / 90kW TSI",
  "transmission": "MGK(7A)",
  "body_color": "4K4K",
  "interior_color": "CS"
}
```

### AI-–ø–æ–∏—Å–∫ (—à–∞—Ä–æ–≤–∞—è –æ–ø–æ—Ä–∞):
```json
{
  "articles_found": ["1K0505435Q", "1K0407151"],
  "results": [
    {
      "article": "1K0505435Q",
      "name": "–®–∞—Ä–æ–≤–∞—è –æ–ø–æ—Ä–∞ –ø–µ—Ä–µ–¥–Ω–µ–π –ø–æ–¥–≤–µ—Å–∫–∏",
      "brand": "VAG",
      "price": 1500,
      "delivery_days": 2
    }
  ]
}
```

---

**–ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é! üöÄ**
