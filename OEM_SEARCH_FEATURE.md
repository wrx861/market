# üîç –ü–æ–∏—Å–∫ –ø–æ OEM –Ω–æ–º–µ—Ä–∞–º - –ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è

## –û–ø–∏—Å–∞–Ω–∏–µ

–ö–æ–≥–¥–∞ Autotrade –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç –∑–∞–ø—á–∞—Å—Ç—å –ø–æ –∏—Å—Ö–æ–¥–Ω–æ–º—É –∞—Ä—Ç–∏–∫—É–ª—É, —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –±–µ—Ä–µ—Ç OEM –Ω–æ–º–µ—Ä–∞ (–∞–Ω–∞–ª–æ–≥–∏) –∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –¥—Ä—É–≥–∏—Ö –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤ –∏ –∏—â–µ—Ç –∏—Ö –≤ Autotrade.

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ü—Ä—è–º–æ–π –ø–æ–∏—Å–∫ —É—Å–ø–µ—à–µ–Ω
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏—â–µ—Ç: 15208AA100
‚îú‚îÄ Autotrade: –ù–∞—à–µ–ª 9 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ ‚úÖ
‚îú‚îÄ Berg: –ù–∞—à–µ–ª 13 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ ‚úÖ
‚îî‚îÄ Rossko: –ù–∞—à–µ–ª 5 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ ‚úÖ

–†–µ–∑—É–ª—å—Ç–∞—Ç: 27 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (OEM –ø–æ–∏—Å–∫ –Ω–µ –Ω—É–∂–µ–Ω)
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: Autotrade –Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞—à–µ–ª ‚Üí OEM –ø–æ–∏—Å–∫
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏—â–µ—Ç: SCP10184
‚îú‚îÄ Autotrade: 0 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ ‚ùå
‚îú‚îÄ Berg: –ù–∞—à–µ–ª 122 –∞–Ω–∞–ª–æ–≥–∞ ‚úÖ
‚îÇ   ‚îî‚îÄ OEM –Ω–æ–º–µ—Ä–∞: 54630-1PA1A, BR.SC.1.9, ST-54630-H5103
‚îî‚îÄ Rossko: –ù–∞—à–µ–ª 5 –∞–Ω–∞–ª–æ–≥–æ–≤ ‚úÖ
    ‚îî‚îÄ OEM –Ω–æ–º–µ—Ä–∞: 54630H5103, ST-54630-H5103

üîÑ –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è OEM –ø–æ–∏—Å–∫:
‚îú‚îÄ –ü–æ–∏—Å–∫ –≤ Autotrade: 54630-1PA1A
‚îú‚îÄ –ü–æ–∏—Å–∫ –≤ Autotrade: BR.SC.1.9
‚îú‚îÄ –ü–æ–∏—Å–∫ –≤ Autotrade: ST-54630-H5103 ‚Üí ‚úÖ –ù–∞—à–µ–ª 2 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞!
‚îÇ   ‚îî‚îÄ ST-54630-H5103 | SAT | 2150‚ÇΩ | –í –Ω–∞–ª–∏—á–∏–∏ (–¢—é–º–µ–Ω—å)
‚îú‚îÄ –ü–æ–∏—Å–∫ –≤ Autotrade: 54630H5103
‚îî‚îÄ –ü–æ–∏—Å–∫ –≤ Autotrade: ST-54630-H5103 (–¥—É–±–ª–∏–∫–∞—Ç, –ø—Ä–æ–ø—É—â–µ–Ω)

–†–µ–∑—É–ª—å—Ç–∞—Ç: 122 + 5 + 2 = 129 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
```

## –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

### –§–∞–π–ª: `backend/server.py`

```python
# –ï—Å–ª–∏ Autotrade –Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞—à–µ–ª, –ø—Ä–æ–±—É–µ–º –ø–æ–∏—Å–∫ –ø–æ OEM
if len(autotrade_parts) == 0:
    logger.info("Autotrade returned 0 results, trying OEM search...")
    
    # 1. –°–æ–±–∏—Ä–∞–µ–º OEM –Ω–æ–º–µ—Ä–∞ –∏–∑ –¥—Ä—É–≥–∏—Ö –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤
    oem_numbers = set()
    
    for part in berg_results:
        article = part.get('article', '').strip()
        if article and article.upper() != request.article.upper():
            oem_numbers.add(article)
    
    for part in rossko_results:
        article = part.get('article', '').strip()
        if article and article.upper() != request.article.upper():
            oem_numbers.add(article)
    
    # 2. –ò—â–µ–º –≤ Autotrade –ø–æ OEM (–º–∞–∫—Å–∏–º—É–º 5)
    if oem_numbers:
        oem_search_tasks = []
        for oem in list(oem_numbers)[:5]:
            oem_search_tasks.append(search_by_oem(oem))
        
        oem_results = await asyncio.gather(*oem_search_tasks)
        
        # 3. –î–æ–±–∞–≤–ª—è–µ–º –Ω–∞–π–¥–µ–Ω–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
        for result in oem_results:
            if result:
                autotrade_parts.extend(result)
```

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

### ‚úÖ –ë–æ–ª—å—à–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- –£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —à–∞–Ω—Å –Ω–∞–π—Ç–∏ –∑–∞–ø—á–∞—Å—Ç—å –≤ Autotrade
- –û—Å–æ–±–µ–Ω–Ω–æ –ø–æ–ª–µ–∑–Ω–æ –¥–ª—è —Ä–µ–¥–∫–∏—Ö/–∞–Ω–∞–ª–æ–≥–æ–≤—ã—Ö –∞—Ä—Ç–∏–∫—É–ª–æ–≤

### ‚úÖ –õ—É—á—à–∏–µ —Ü–µ–Ω—ã
- Autotrade —á–∞—Å—Ç–æ –∏–º–µ–µ—Ç –ª—É—á—à–∏–µ —Ü–µ–Ω—ã —á–µ–º Berg
- –°–∫–ª–∞–¥ –≤ –¢—é–º–µ–Ω–∏ = –±—ã—Å—Ç—Ä–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞

### ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –ù–µ —Ç—Ä–µ–±—É–µ—Ç –¥–µ–π—Å—Ç–≤–∏–π –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –†–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–æ–∑—Ä–∞—á–Ω–æ –≤ —Ñ–æ–Ω–µ

### ‚úÖ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π –ø–æ–∏—Å–∫ (asyncio.gather)
- –õ–∏–º–∏—Ç 5 OEM –Ω–æ–º–µ—Ä–æ–≤ (–Ω–µ –ø–µ—Ä–µ–≥—Ä—É–∂–∞–µ–º API)
- –¢–æ–ª—å–∫–æ –µ—Å–ª–∏ –ø—Ä—è–º–æ–π –ø–æ–∏—Å–∫ –≤–µ—Ä–Ω—É–ª 0

## –ü—Ä–∏–º–µ—Ä —Ä–µ–∞–ª—å–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ó–∞–ø—Ä–æ—Å: `SCP10184`

#### –î–æ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏:
```
Autotrade: 0 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
Berg: 122 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ (–≤—Å–µ –ø–æ–¥ –∑–∞–∫–∞–∑, 6-9 –¥–Ω–µ–π)
Rossko: 5 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (–≤—Å–µ –ø–æ–¥ –∑–∞–∫–∞–∑)

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç: 127 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤, –≤—Å–µ –ø–æ–¥ –∑–∞–∫–∞–∑
```

#### –ü–æ—Å–ª–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏:
```
Autotrade (–ø—Ä—è–º–æ–π): 0 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
Berg: 122 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ ‚Üí OEM: ST-54630-H5103
Rossko: 5 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ ‚Üí OEM: 54630H5103

OEM –ø–æ–∏—Å–∫ –≤ Autotrade:
‚îî‚îÄ ST-54630-H5103: 2 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
   ‚îî‚îÄ SAT | 2150‚ÇΩ | ‚úÖ –í –ù–ê–õ–ò–ß–ò–ò (–¢—é–º–µ–Ω—å)

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç: 129 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
                     1 –í –ù–ê–õ–ò–ß–ò–ò –≤ –¢—é–º–µ–Ω–∏! üéØ
```

## –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–§—É–Ω–∫—Ü–∏—è –ø–∏—à–µ—Ç –ø–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏:

```
INFO: Autotrade returned 0 results, trying OEM search...
INFO: Found 5 OEM numbers to search in Autotrade
INFO: OEM search failed for BR.SC.1.9: No results
INFO: Found 2 results from OEM search
INFO: ‚úÖ Autotrade OEM search successful: found 2 parts
```

## –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

1. **–ú–∞–∫—Å–∏–º—É–º 5 OEM** - —á—Ç–æ–±—ã –Ω–µ –ø–µ—Ä–µ–≥—Ä—É–∂–∞—Ç—å API
2. **–¢–æ–ª—å–∫–æ –µ—Å–ª–∏ –ø—Ä—è–º–æ–π –ø–æ–∏—Å–∫ = 0** - –Ω–µ –¥—É–±–ª–∏—Ä—É–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
3. **–¢–∞–π–º–∞—É—Ç 30 —Å–µ–∫** - –Ω–∞ –∫–∞–∂–¥—ã–π OEM –ø–æ–∏—Å–∫

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ò–∑–º–µ–Ω–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ OEM –¥–ª—è –ø–æ–∏—Å–∫–∞:
```python
for oem in list(oem_numbers)[:5]:  # –ó–¥–µ—Å—å –º–µ–Ω—è–µ–º 5 –Ω–∞ –Ω—É–∂–Ω–æ–µ —á–∏—Å–ª–æ
```

### –û—Ç–∫–ª—é—á–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é:
```python
# –ó–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–µ—Å—å –±–ª–æ–∫:
# if len(autotrade_parts) == 0:
#     logger.info("Autotrade returned 0 results, trying OEM search...")
#     ...
```

## –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

- [ ] –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ OEM –ø–æ–∏—Å–∫–æ–≤
- [ ] –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è OEM –ø–æ –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç–∏
- [ ] –î–æ–±–∞–≤–∏—Ç—å OEM –ø–æ–∏—Å–∫ –¥–ª—è –¥—Ä—É–≥–∏—Ö –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤ (Rossko, Berg)
- [ ] –£–º–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è OEM (–∏—Å–∫–ª—é—á–∞—Ç—å —Å–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–∏–µ/–¥–ª–∏–Ω–Ω—ã–µ)

---

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ  
**–í–µ—Ä—Å–∏—è:** 1.0  
**–î–∞—Ç–∞:** 15 –Ω–æ—è–±—Ä—è 2025
