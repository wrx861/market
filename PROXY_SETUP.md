# ‚ö†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Proxy –¥–ª—è PartsAPI

## –í–ù–ò–ú–ê–ù–ò–ï: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –Ω–∞ —Å–≤–æ–π —Ä–∏—Å–∫!

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ proxy –¥–ª—è –æ–±—Ö–æ–¥–∞ rate limiting –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫:
- ‚ùå –ü–æ–ª–Ω–æ–π –±–ª–æ–∫–∏—Ä–æ–≤–∫–µ API –∫–ª—é—á–∞
- ‚ùå –ù–∞—Ä—É—à–µ–Ω–∏—é —É—Å–ª–æ–≤–∏–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- ‚ùå –Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–º –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è–º
- ‚ùå –ü–æ—Ç–µ—Ä–µ –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–µ—Ä–≤–∏—Å—É

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–µ–≥–∞–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã: Rate Limiting + –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**

---

## –ï—Å–ª–∏ –≤—ã –≤—Å–µ —Ä–∞–≤–Ω–æ —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å proxy:

### üìã –°–ø–æ—Å–æ–± 1: –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–î–æ–±–∞–≤—å—Ç–µ –≤ `/app/backend/.env`:

```bash
# –í–∫–ª—é—á–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ proxy
USE_PROXY=true

# –°–ø–∏—Å–æ–∫ proxy (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é)
PROXY_LIST=http://proxy1.example.com:8080,http://proxy2.example.com:3128,socks5://proxy3.example.com:1080
```

### üìã –°–ø–æ—Å–æ–± 2: –§–∞–π–ª —Å proxy

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `/app/backend/proxies.txt`:

```
http://proxy1.example.com:8080
http://username:password@proxy2.example.com:3128
socks5://proxy3.example.com:1080
```

–ò –¥–æ–±–∞–≤—å—Ç–µ –≤ `.env`:
```bash
USE_PROXY=true
```

---

## üîß –§–æ—Ä–º–∞—Ç—ã proxy:

### HTTP Proxy (–±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏):
```
http://123.45.67.89:8080
```

### HTTP Proxy (—Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π):
```
http://username:password@123.45.67.89:8080
```

### SOCKS5 Proxy:
```
socks5://123.45.67.89:1080
socks5://username:password@123.45.67.89:1080
```

---

## üåê –ì–¥–µ –ø–æ–ª—É—á–∏—Ç—å proxy:

### ‚ùå –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ proxy (–ù–ï —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):
- https://free-proxy-list.net/
- https://www.proxy-list.download/
- https://www.sslproxies.org/

**–ü—Ä–æ–±–ª–µ–º—ã –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö proxy:**
- –ú–µ–¥–ª–µ–Ω–Ω—ã–µ
- –ß–∞—Å—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç
- –ú–æ–≥—É—Ç –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ
- –ë—ã—Å—Ç—Ä–æ –±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è

### ‚úÖ –ü–ª–∞—Ç–Ω—ã–µ proxy —Å–µ—Ä–≤–∏—Å—ã (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):

**–ó–∞—Ä—É–±–µ–∂–Ω—ã–µ:**
- **Bright Data** (ex Luminati): https://brightdata.com/
  - –û—Ç $500/–º–µ—Å—è—Ü
  - Rotating residential proxies
  - –í—ã—Å–æ–∫–∞—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å

- **SmartProxy**: https://smartproxy.com/
  - –û—Ç $75/–º–µ—Å—è—Ü
  - 40M+ IP –∞–¥—Ä–µ—Å–æ–≤
  - Residential + Datacenter

- **Oxylabs**: https://oxylabs.io/
  - –û—Ç $300/–º–µ—Å—è—Ü
  - Enterprise —É—Ä–æ–≤–µ–Ω—å

**–†–æ—Å—Å–∏–π—Å–∫–∏–µ:**
- **Proxy-seller**: https://proxy-seller.ru/
  - –û—Ç 0.5$/IP –≤ –º–µ—Å—è—Ü
  - IPv4 –∏ IPv6
  - –†–æ—Å—Å–∏–π—Å–∫–∏–µ –∏ –∑–∞—Ä—É–±–µ–∂–Ω—ã–µ

- **ProxySale**: https://proxysale.com/
  - –û—Ç 0.6$/IP
  - –ü—Ä–∏–≤–∞—Ç–Ω—ã–µ proxy

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ proxy:

### –¢–µ—Å—Ç –æ–¥–Ω–æ–≥–æ proxy:
```bash
# –ß–µ—Ä–µ–∑ curl
curl -x http://proxy.example.com:8080 https://httpbin.org/ip

# –° –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π
curl -x http://username:password@proxy.example.com:8080 https://httpbin.org/ip
```

### –¢–µ—Å—Ç –≤ Python:
```python
from proxy_manager import ProxyManager

pm = ProxyManager()
pm.add_proxy('http://123.45.67.89:8080')

# –¢–µ—Å—Ç proxy
if pm.test_proxy('http://123.45.67.89:8080'):
    print("‚úÖ Proxy —Ä–∞–±–æ—Ç–∞–µ—Ç")
else:
    print("‚ùå Proxy –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç")

# –¢–µ—Å—Ç –≤—Å–µ—Ö proxy –∏–∑ —Å–ø–∏—Å–∫–∞
working_proxies = pm.test_all_proxies()
print(f"–†–∞–±–æ—Ç–∞—é—â–∏—Ö proxy: {len(working_proxies)}")
```

---

## üìä –†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã:

### 1. Rotating Proxy (–ø–æ –æ—á–µ—Ä–µ–¥–∏)
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é - –±–µ—Ä–µ—Ç —Å–ª–µ–¥—É—é—â–∏–π proxy –∏–∑ —Å–ø–∏—Å–∫–∞:
```python
proxy = proxy_manager.get_proxy()
```

### 2. Random Proxy (—Å–ª—É—á–∞–π–Ω—ã–π)
–ë–µ—Ä–µ—Ç —Å–ª—É—á–∞–π–Ω—ã–π proxy:
```python
proxy = proxy_manager.get_random_proxy()
```

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã:

–ü–æ—Å–ª–µ –≤–∫–ª—é—á–µ–Ω–∏—è proxy –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:

```bash
tail -f /var/log/supervisor/backend.err.log
```

–î–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
```
INFO: Loaded 3 proxies from environment
INFO: ‚ö†Ô∏è Using proxy for request to PartsAPI
DEBUG: Using proxy: http://123.45.67.89:8080
```

---

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏–∏ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫:

–î–∞–∂–µ —Å proxy —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:

1. **–£–≤–µ–ª–∏—á–∏—Ç—å –ø–∞—É–∑—ã –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏:**
```python
# –í .env
RATE_LIMIT_MAX_REQUESTS=5  # –°–Ω–∏–∑–∏—Ç—å —Å 10 –¥–æ 5
RATE_LIMIT_TIME_WINDOW=60  # –û—Å—Ç–∞–≤–∏—Ç—å 60 —Å–µ–∫—É–Ω–¥
```

2. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å residential proxy** (–Ω–µ datacenter)
   - Residential proxy –≤—ã–≥–ª—è–¥—è—Ç –∫–∞–∫ –æ–±—ã—á–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
   - Datacenter proxy —á–∞—Å—Ç–æ –≤ —á–µ—Ä–Ω—ã—Ö —Å–ø–∏—Å–∫–∞—Ö

3. **–†–æ—Ç–∞—Ü–∏—è User-Agent:**
   - –î–æ–±–∞–≤—å—Ç–µ —Ä–∞–∑–Ω—ã–µ User-Agent –∑–∞–≥–æ–ª–æ–≤–∫–∏
   - –ò–º–∏—Ç–∏—Ä—É–π—Ç–µ —Ä–∞–∑–Ω—ã–µ –±—Ä–∞—É–∑–µ—Ä—ã

4. **–ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å —Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º:**
   - Proxy + –ö—ç—à = –º–∏–Ω–∏–º—É–º —Ä–µ–∞–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ API

---

## üö® –ü—Ä–∏–∑–Ω–∞–∫–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏:

–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ –≤ –ª–æ–≥–∞—Ö:
```
ERROR: API returned status 403 (Forbidden)
ERROR: API returned status 429 (Too Many Requests)  
ERROR: API key unauthorized (401)
```

**–î–µ–π—Å—Ç–≤–∏—è:**
1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–ø—Ä–æ—Å—ã –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ
2. –ü–æ–¥–æ–∂–¥–∏—Ç–µ 24 —á–∞—Å–∞
3. –°–≤—è–∂–∏—Ç–µ—Å—å —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π PartsAPI
4. –†–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–µ–≥–∞–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã (Rate Limiting + –ö—ç—à)

---

## üí° –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:

```bash
# backend/.env

# Proxy (—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ)
USE_PROXY=true
PROXY_LIST=http://proxy1:8080,http://proxy2:8080

# Rate Limiting (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ!)
RATE_LIMIT_MAX_REQUESTS=5
RATE_LIMIT_TIME_WINDOW=60

# –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ!)
CACHE_TTL=3600
```

---

## üìû –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: –ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–π —Ç–∞—Ä–∏—Ñ

–í–º–µ—Å—Ç–æ proxy —Ä–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ:

1. **–°–≤—è–∑–∞—Ç—å—Å—è —Å PartsAPI**
   - –ó–∞–ø—Ä–æ—Å–∏—Ç—å —É–≤–µ–ª–∏—á–µ–Ω–∏–µ –ª–∏–º–∏—Ç–æ–≤
   - –ü–æ–ª—É—á–∏—Ç—å –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–π —Ç–∞—Ä–∏—Ñ
   - –û—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–µ SLA

2. **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
   - ‚úÖ –õ–µ–≥–∞–ª—å–Ω–æ
   - ‚úÖ –ù–∞–¥–µ–∂–Ω–æ
   - ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞
   - ‚úÖ –ë–µ–∑ —Ä–∏—Å–∫–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏

**–ö–æ–Ω—Ç–∞–∫—Ç:** https://partsapi.ru/contacts

---

## ‚öñÔ∏è –Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ –∞—Å–ø–µ–∫—Ç—ã:

–í –†–æ—Å—Å–∏–∏ –∏ –º–Ω–æ–≥–∏—Ö —Å—Ç—Ä–∞–Ω–∞—Ö:
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ proxy —Å–∞–º–æ –ø–æ —Å–µ–±–µ –ª–µ–≥–∞–ª—å–Ω–æ
- –ù–û –æ–±—Ö–æ–¥ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –º–æ–∂–µ—Ç –Ω–∞—Ä—É—à–∞—Ç—å:
  - –£—Å–ª–æ–≤–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–µ—Ä–≤–∏—Å–∞ (ToS)
  - –î–æ–≥–æ–≤–æ—Ä —Å –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–º API
  - –ó–∞–∫–æ–Ω—ã –æ –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω—ã—Ö –ø—Ä–µ—Å—Ç—É–ø–ª–µ–Ω–∏—è—Ö

**–°–æ–≤–µ—Ç —é—Ä–∏—Å—Ç–∞ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –≤ –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏—Ö —Ü–µ–ª—è—Ö.**

---

## üéØ –ò—Ç–æ–≥:

**–õ—É—á—à–µ–µ —Ä–µ—à–µ–Ω–∏–µ = Rate Limiting + –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ + –ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–π —Ç–∞—Ä–∏—Ñ**

Proxy - —ç—Ç–æ –∫—Ä–∞–π–Ω—è—è –º–µ—Ä–∞, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏:
- –ü–æ–Ω–∏–º–∞–µ—Ç–µ —Ä–∏—Å–∫–∏
- –ì–æ—Ç–æ–≤—ã –∫ –≤–æ–∑–º–æ–∂–Ω–æ–π –±–ª–æ–∫–∏—Ä–æ–≤–∫–µ
- –ù–µ—Ç –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤
- –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –≤ production

**–ú—ã –ø—Ä–µ–¥—É–ø—Ä–µ–¥–∏–ª–∏! –†–µ—à–µ–Ω–∏–µ –∑–∞ –≤–∞–º–∏. üôè**
